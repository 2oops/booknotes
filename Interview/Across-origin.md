# Across-origin

同源策略是一种约定，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到 `XSS`（跨站脚本攻击）、`CSFR`（跨站请求伪造） 等攻击。所谓同源是指"协议+域名+端口"三者相同，即便两个不同的域名指向同一个 ip 地址，也非同源
同源策略限制以下内容：
​	Cookie，localstroage,sessionStorage等存储性内容
​	DOM节点
​	Ajax请求发送后，结果被浏览器拦截

以下三个标签是允许跨域加载资源：
```
<img src=XXX>
<link href=XXX>
<script src=XXX>
```
不同域之间（协议，域名，端口号任意一个不相同时）相互请求资源，即算作跨域

跨域并不是请求发不出去，请求能发出去，服务端能收到请求并正常返回结果，只是结果被浏览器拦截了。你可能会疑问明明通过表单的方式可以发起跨域请求，为什么 Ajax 就不会?因为归根结底，跨域是为了阻止用户读取到另一个域名下的内容，Ajax 可以获取响应，浏览器认为这不安全，所以拦截了响应。但是表单并不会获取新的内容，所以可以发起跨域请求。同时也说明了跨域并不能完全阻止 CSRF，因为请求毕竟是发出去了

##### 总结：

1. CORS 支持所有类型的 HTTP 请求，是跨域 HTTP 请求的根本解决方案

2. JSONP 只支持 GET 请求，JSONP 的优势在于支持老式浏览器，以及可以向不支持 CORS 的网站请求数据。

3. 不管是 Node 中间件代理还是 nginx 反向代理，主要是通过同源策略对服务器不加限制。

4. 日常工作中，用得比较多的跨域方案是 cors 和 nginx 反向代理